# Notarization Format
In this subsection, we define the format of the notarization file.

We use the [Pallas Pasta](https://o1-labs.github.io/proof-systems/specs/pasta.html) curve as in the Mina protocol. Let $\Fq$ be the base field and $\Fp$ be the scalar field, where

> q = 28948022309329048855892746252171976963363056481941560715954676764349967630337
> p = 28948022309329048855892746252171976963363056481941647379679742748393362948097

We use hash-based commitment scheme in zkOracles, and the underlying hash is the Poseidon hash function based on $\Fq$. The specific definition of Poseidon hash follows the one defined in Mina protocol. We refer [here](https://o1-labs.github.io/proof-systems/specs/poseidon.html) for the details.

The Poseidon-hash-based commitment scheme is defined as follows.
$$y = \textsf{Poseidon}(m\|r)$$
where $m$ is the message and $r$ is a uniformly random element in $\Fq$. Note that in zkOracle, $m$ is a $128$-bit string, and could be encoded in one element in $\Fq$. Therefore, the input of the above hash function contains two elements in $\Fq$.


The notarization issued by the notary includes the following contents.

- `client_key_share_commitment`: Contains an element in $\Fq$. It is the commitment of the key share $\sK_\C$ generated by the client.
- `notary_key_share`: Contains a $128$-bit string. It is the key share $\sK_\N$ generated by the notary.
- `encrypted_query_length`: The length of encrypted query.
- `encrypted_query`: Contains a byte string with variable length. It is the ciphertext of the query generated by the 2pc protocol.
- `encrypted_query_IV`: Contains a $96$-bit string. It is the IV to generate the above encrypted query.
- `encrypted_response_length`: The length of encrypted response.
- `encrypted_response`: Contains a byte string with variable length. It is the ciphertext that the server respond to the client.
- `encrypted_response_IV`: Contains a $96$-bit string. It is the IV to generate the above encrypted response.
- `server_address`: Contains a byte string with variable length. It is the URL of the server.
- `time_stamp`: Contains a $64$-bit string. It is the time stamp that the notary signs this file.
- `validity_period`: Contains a $64$-bit string. It is the validity period of this file.
- `signature`: Contains an element in $\Fp\times \Fq$. It is the signature of the above items. The underlying signature is Schnorr based on the Pallas Pasta curve. We refer the details [here](https://github.com/MinaProtocol/mina/blob/develop/docs/specs/signatures/description.md).
